<% content_for(:html_title) { "My blogs" } %>
<%=render "layouts/users_sidebar" %>
<div class="mt-10 float-left w-full max-w-4xl content-center">

    <div class="flex items-baseline justify-between mx-4">
      <a href = "<%=create_new_blog_path%>" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
      New Blog
        <svg xmlns="http://www.w3.org/2000/svg" class="float-right h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
        </svg>
      </a>
    </div>

<% unless @blogs.empty? %>
        <table class="w-4/5 mx-4">
          <thead class="bg-white border-b">
            <tr>
              <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
                #
              </th>
              <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
                Blog title
              </th>
              <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
                Date created/updated
              </th>
              <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
                Active
              </th>
              <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
                Actions
              </th>
            </tr>
          </thead>
          <tbody>
          
            <% @blogs.each do |blog| %>
            <tr class="bg-gray-100 border-b <%='border-b bg-yellow-100 border-yellow-200' unless blog.active %>">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><%=blog.hashid%></td>
              <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                <%=blog.blog_title%>
              </td>
              <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                <%=blog.created_at.strftime("%b %d, %Y %H:%M")%>/<%=blog.updated_at.strftime("%b %d, %Y %H:%M")%>
              </td>
              <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                <%=blog.active ? 'Published' : 'Draft' %>
              </td>
              <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                <%=link_to (blog.active ? "Draft it" : "Publish it"), "#{toggle_blog_status_path(blog.hashid)}", class: 'underline' %> | 
                <%=link_to "Edit", "#{edit_blog_url(blog.hashid)}", class: 'underline' %>
              </td>
            </tr>
           
            <% end %>
           </tbody>
            </table>
            <% else %>
              <div class="p-4 text-sm text-gray-700 bg-gray-100 rounded-lg dark:bg-gray-700 dark:text-gray-300" role="alert">
                  no blogs found 
              </div>
            <% end %>


            <div class="mx-auto text-center my-4">
              <%= paginate @blogs %>
            </div>

      </div>